!function(){"use strict";var t;(t=function(t,i,a){this.palette=a.map(t=>[(16711680&t)>>16,(65280&t)>>8,255&t]),this.canvas=document.createElement("canvas"),this.canvas.width=this.width=t,this.canvas.height=this.height=i,this.canvas.style.imageRendering="pixelated",this.context=this.canvas.getContext("2d"),this.imageData=this.context.getImageData(0,0,t,i),this.sprites=[]}).prototype.setPixel=function(t,i,a){var h=this.palette[a];if(void 0!==h){var e=i*this.width+t<<2;this.imageData.data[e]=h[0],this.imageData.data[e+1]=h[1],this.imageData.data[e+2]=h[2],this.imageData.data[e+3]=255}},t.prototype.render=function(){this.imageData=new ImageData(this.width,this.height);for(var t=0;t<this.sprites.length;t++)for(var i=this.sprites[t],a=0;a<i.bitmap.length;a++)if(!(i.y+a<0)){if(i.y+a>=this.width)break;for(var h=0;h<i.bitmap[0].length;h++)if(!(i.x+h<0)){if(i.x+h>=this.height)break;var e=i.paletteAssignment[i.bitmap[a][h]];this.setPixel(i.x+h,i.y+a,e)}}this.context.putImageData(this.imageData,0,0)},(t.Sprite=function(t,i){this.bitmap=t,this.paletteAssignment=i,this.x=0,this.y=0,this.width=this.bitmap.length,this.height=this.bitmap[0].length}).prototype.collides=function(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y},window.Peach=t}();
