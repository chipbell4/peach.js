var Peach=function(){"use strict";var t=function(t,i){this.bitmap=t,this.paletteAssignment=i,this.x=0,this.y=0,this.width=this.bitmap.length,this.height=this.bitmap[0].length};t.prototype.collides=function(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y};var i=function(t,i,a){this.palette=a.map(function(t){return[(16711680&t)>>16,(65280&t)>>8,255&t]}),this.canvas=document.createElement("canvas"),this.canvas.width=this.width=t,this.canvas.height=this.height=i,this.canvas.style.imageRendering="pixelated",this.context=this.canvas.getContext("2d"),this.imageData=this.context.getImageData(0,0,t,i),this.sprites=[]};return i.prototype.setPixel=function(t,i,a){var e=this.palette[a];if(void 0!==e){var h=i*this.width+t<<2;this.imageData.data[h]=e[0],this.imageData.data[h+1]=e[1],this.imageData.data[h+2]=e[2],this.imageData.data[h+3]=255}},i.prototype.render=function(){this.imageData.data.fill(0);for(var t=0;t<this.sprites.length;t++)for(var i=this.sprites[t],a=0;a<i.bitmap.length;a++)if(!(i.y+a<0)){if(i.y+a>=this.width)break;for(var e=0;e<i.bitmap[0].length;e++)if(!(i.x+e<0)){if(i.x+e>=this.height)break;var h=i.paletteAssignment[i.bitmap[a][e]];this.setPixel(i.x+e,i.y+a,h)}}this.context.putImageData(this.imageData,0,0)},i.Sprite=t,i}();
