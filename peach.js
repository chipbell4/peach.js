var Peach=function(){"use strict";function t(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var i=function(){function i(t,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.bitmap=t,this.paletteAssignment=e,this.x=0,this.y=0}var e,a,n;return e=i,(a=[{key:"collides",value:function(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}},{key:"width",get:function(){return this.bitmap[0].length}},{key:"height",get:function(){return this.bitmap.length}}])&&t(e.prototype,a),n&&t(e,n),i}(),e=function(t,i,e){this.palette=e.map(function(t){return[(16711680&t)>>16,(65280&t)>>8,255&t]}),this.canvas=document.createElement("canvas"),this.canvas.width=this.width=t,this.canvas.height=this.height=i,this.canvas.style.imageRendering="pixelated",this.context=this.canvas.getContext("2d"),this.imageData=this.context.getImageData(0,0,t,i),this.sprites=[]};return e.prototype.setPixel=function(t,i,e){var a=this.palette[e];if(void 0!==a){var n=i*this.width+t<<2;this.imageData.data[n]=a[0],this.imageData.data[n+1]=a[1],this.imageData.data[n+2]=a[2],this.imageData.data[n+3]=255}},e.prototype.render=function(){this.imageData.data.fill(0);for(var t=0;t<this.sprites.length;t++)for(var i=this.sprites[t],e=0;e<i.bitmap.length;e++)if(!(i.y+e<0)){if(i.y+e>=this.width)break;for(var a=0;a<i.bitmap[0].length;a++)if(!(i.x+a<0)){if(i.x+a>=this.height)break;var n=i.paletteAssignment[i.bitmap[e][a]];this.setPixel(i.x+a,i.y+e,n)}}this.context.putImageData(this.imageData,0,0)},e.Sprite=i,e}();
